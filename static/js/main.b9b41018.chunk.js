(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports={Log:"_1iuDGkeSNuqWSvUOQZ_Swi",badge:"bYjpf4FKKG6CLMAsAo-17"}},18:function(e,t,n){e.exports={Img:"_1TjtsQM8m6iQkwnDucXa-z",line:"_3Usemv3T2FVM6BgKqHyzBM"}},20:function(e,t,n){e.exports={DltAppTimeLine:"_2MVcvzQPLJd97FwFrRZ7-v",Container:"_3gjExQpc68B3bOsCELYHZn"}},28:function(e,t,n){e.exports={DltLogsViewer:"_3NfzuhqC2TvAxhU20VRxDa"}},31:function(e,t,n){e.exports={Table:"_9UpRfytDD9DpC0gPoJvxS",Img:"_1H9azvJH2XMqcOry9H5p67"}},32:function(e,t,n){e.exports={Modal:"_PHR9CotKaHAtDlgk8I0y"}},33:function(e,t,n){e.exports=n.p+"static/media/hidden.08468bc8.png"},34:function(e,t,n){e.exports=n.p+"static/media/showen.269395bb.png"},36:function(e,t,n){e.exports=n(55)},41:function(e,t,n){},53:function(e,t,n){e.exports={Modal:"_1aOVcnRvOmoGlaIPCPaA8p"}},55:function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"PAYLOAD",function(){return X}),n.d(o,"REGEX",function(){return B});var r={};n.r(r),n.d(r,"POSITIVE",function(){return K}),n.d(r,"NEGATIVE",function(){return q}),n.d(r,"MARKER",function(){return J});var l=n(1),a=n.n(l),i=n(12),s=n.n(i),c=(n(41),n(5)),u=n(8),p=n(10),m=n(9),d=n(11),f=n(7),h=n.n(f),g=n(6),v=function(e){return{type:"HIDE_DLT_COMPONENT",dltComponentName:e}},E=function(e){return{type:"SHOW_MESSAGE_TO_USER",msg:e}},b=n(4),O=function e(t){Object(c.a)(this,e),this.count=t.count,this.date=t.date,this.msFromStartUp=t.msFromStartUp,this.dltAppId=t.dltAppId,this.dltCtx=t.dltCtx,this.type=t.type,this.message=t.message,this.dltComponentName=t.dltComponentName};function L(e,t){if(e.length){var n=e[e.length-1];if(t.msFromStartUp===n.msFromStartUp)(function(e,t){for(var n=e.length;n--;)if(t.date>e[n].date||0===n)return e.splice(n+1,0,t),!0;return!1})(e,t)||function(e,t){for(var n=e.length;n--;)if(t.date>e[n].date||0===n)return e.splice(n+1,0,t),!0;return!1}(e,t)||e.push(t);else for(var o=e.length;o--;){if(t.msFromStartUp>e[o].msFromStartUp){e.splice(o+1,0,t);break}0===o&&e.splice(0,0,t)}}else e.push(t)}var D=new(function(e){function t(){var e,n;Object(c.a)(this,t);for(var o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).dltComponents={},n.allDltLogs={},n.visibleDltLogs={},n.dltFilters={},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"loadFromText",value:function(e,t){var n=this;return new Promise(function(t,o){n.allDltLogs=function(e,t){var n={},o=e.split("\n");for(var r in o)if(o[r]){var l=o[r].split(" "),a=l[1].split("/"),i=l[2].split(".")[0].split(":"),s=l[2].split(".")[1],c=new Date(parseInt(a[0]),parseInt(a[1])-1,parseInt(a[2]),parseInt(i[0]),parseInt(i[1]),parseInt(i[2]),parseInt(s)),u=new O({count:l[0],date:c,msFromStartUp:parseFloat(l[3]),wtf1:l[4],projectName:l[5],dltAppId:l[6],dltCtx:l[7],wtf2:l[8],wtf3:l[9],type:l[10],mode:l[11],wtf4:l[12],message:l.splice(13,l.length).join(" "),dltComponentName:"".concat(l[6],": ").concat(l[7])});u.dltComponentName in n||(n[u.dltComponentName]=[]),n[u.dltComponentName].push(u)}return n}(e),t()})}},{key:"sortKeysOfDict",value:function(e){var t=[];for(var n in e)t[t.length]=n;return t.sort(),t}},{key:"setFilters",value:function(e){this.dltFilters=e}},{key:"convertDictToList",value:function(e){var t=[],n=this.sortKeysOfDict(e),o=0;return n.forEach(function(n){e[n].forEach(function(e){e.count=o++,t.push(e)})}),t}},{key:"convertListToDict",value:function(e){var t={};return e.forEach(function(e){e.dltComponentName in t||(t[e.dltComponentName]=[]),t[e.dltComponentName].push(e)}),t}},{key:"sort",value:function(e){var t=function(e){for(var t,n={},o=0;o<e.length;o++){var r=(t=e[o].msFromStartUp,(t*=10)-t%1);r in n||(n[r]=[]),L(n[r],e[o])}return function(e){var t=[],n=function(e){var t=[];for(var n in e)t[t.length]=n;return t.sort(function(e,t){return e-t})}(e),o=0;return n.forEach(function(n){e[n].forEach(function(e){e.count=o++,t.push(e)})}),t}(n)}(this.convertDictToList(e));return this.convertListToDict(t)}},{key:"filter",value:function(e,t){return console.log("filters",t),t&&t.length&&(console.log("do filters"),e=e.filter(function(e){return t.some(function(t){return t.isMatch(e.message)})})),e}},{key:"showComponent",value:function(e){this.dltComponents[e]=!0,this.visibleDltLogs[e]=this.filter(this.allDltLogs[e],this.dltFilters[e]);var t=this.sort(this.visibleDltLogs);return{dltComponents:Object(b.a)({},this.dltComponents),visibleDltLogs:Object(b.a)({},t)}}},{key:"hideComponent",value:function(e){return this.dltComponents[e]=!1,delete this.visibleDltLogs[e],{dltComponents:Object(b.a)({},this.dltComponents),visibleDltLogs:Object(b.a)({},this.sort(this.visibleDltLogs))}}},{key:"getAllDltLogs",value:function(){return Object(b.a)({},this.allDltLogs)}},{key:"getVisibleDltLogs",value:function(){return Object(b.a)({},this.visibleDltLogs)}},{key:"resetLogs",value:function(){this.visibleDltLogs={}}},{key:"getDltComponents",value:function(){for(var e in this.dltComponents={},this.allDltLogs)this.dltComponents[e]=e in this.visibleDltLogs;return Object(b.a)({},this.dltComponents)}}]),t}(a.a.Component)),C=Object(g.b)(function(e){return{dltFilters:e.app.dltFilters}},function(e){return{showMsgToUser:function(t){return e(E(t))},setDltLogsAvailable:function(t){return e({type:"SET_DLT_LOGS_AVAILABLE",dltLogsAvailable:t})}}})(function(e){var t,n=function(n){e.showMsgToUser("load dlt logs to system ..."),D.loadFromText(t.result,e.dltFilters).then(function(){e.setDltLogsAvailable(!0)})};return a.a.createElement("div",null,a.a.createElement("input",{type:"file",accept:".txt",onChange:function(o){return function(o){(t=new FileReader).onloadend=n;try{t.readAsText(o),e.showMsgToUser("reading file ..."),e.setDltLogsAvailable(!1)}catch(r){console.log("no file chosen!")}}(o.target.files[0])}}))}),T=n(28),A=n.n(T),w=n(20),y=n.n(w),S=n(15),j=n.n(S),N=n(3),_=n(29),I=n.n(_),x=function(e){var t=I()(e.log.date,"mmmm dS, h:MM:ss.l");return a.a.createElement("div",{className:j.a.Log,style:{top:"".concat(50*e.log.count,"px")}},a.a.createElement(N.a,{className:j.a.badge,color:"info"},e.log.count),a.a.createElement(N.a,{className:j.a.badge,color:"info"},t),a.a.createElement(N.a,{className:j.a.badge,color:"success"},e.log.msFromStartUp),a.a.createElement("span",null,e.log.message))},k=function(e){return a.a.createElement("div",{className:y.a.DltAppTimeLine},a.a.createElement("h2",null,e.title,a.a.createElement("button",{onClick:e.onHideDltComponentHandler},"Hide")),a.a.createElement("div",{className:y.a.Container},e.logs.map(function(e){return a.a.createElement(x,{key:e.count,log:e})})))},P=Object(g.b)(function(e){return{logs:e.app.visibleDltLogs}},function(e){return{hideDltComponent:function(t){return e(v(t))}}})(function(e){return a.a.createElement("div",{className:A.a.DltLogsViewer},Object.keys(e.logs).map(function(t){return a.a.createElement(k,{onHideDltComponentHandler:function(){e.hideDltComponent(t)},key:t,title:t,logs:e.logs[t]})}))}),F=function(e){var t=[h.a.header];return a.a.createElement("header",{className:t.join(" ")},e.children)},M=function(){var e=[h.a.footer];return a.a.createElement("footer",{className:e.join(" ")},"Footer")},U=n(31),R=n.n(U),V=n(18),G=n.n(V),H=n(14),W=n(32),Y=n.n(W),X=(n(53),"PAYLOAD"),B="REGEX",K="POSITIVE",q="NEGATIVE",J="MARKER",z=function e(){Object(c.a)(this,e)};z.expr=o,z.filter=r;var Q=function(){function e(t,n,o,r,l){Object(c.a)(this,e),this.color="",this.expr="",this.filterType=z.filter.POSITIVE,this.compare="AND|OR",this.exprType=z.expr.REGEX,this.caseSensitive=!1,this.color=t,this.expr=n,this.filterType=o,this.exprType=r,this.caseSensitive=l}return Object(u.a)(e,[{key:"isMatch",value:function(e){var t=!1;return z.expr.PAYLOAD===this.exprType&&(t=e.includes(this.expr)),t}}]),e}(),Z=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("table",{style:{backgroundColor:this.props.filter.color,width:"100%"}},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("input",{type:"text",value:this.props.filter.expr})),a.a.createElement("td",null,a.a.createElement(N.a,{color:"light"},"color")),a.a.createElement("td",null,this.props.filter.color),a.a.createElement("td",null,a.a.createElement(N.a,{color:"light"},"f-type")),a.a.createElement("td",null,this.props.filter.filterType),a.a.createElement("td",null,a.a.createElement(N.a,{color:"light"},"ex-type")),a.a.createElement("td",null,this.props.filter.exprType),a.a.createElement("td",null,a.a.createElement(N.a,{color:"light"},"compare")),a.a.createElement("td",null,this.props.filter.compare),a.a.createElement("td",null,a.a.createElement(N.a,{color:"light"},"case")),a.a.createElement("td",null,this.props.filter.caseSensitive?"on":"off"))))}}]),t}(a.a.Component),$=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={modal:!1,dltFilters:n.props.dltFilters,active:""},n.toggle=n.toggle.bind(Object(H.a)(Object(H.a)(n))),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){var e=this.props.dltFilters[this.props.dltApp];return a.a.createElement("div",null,a.a.createElement("span",{onClick:this.toggle},this.props.buttonLabel),a.a.createElement(N.c,{isOpen:this.state.modal,toggle:this.toggle,className:[this.props.className,Y.a.Modal].join(" "),size:"lg"},a.a.createElement(N.f,{toggle:this.toggle},"Modal title"),a.a.createElement(N.d,null,e?e.map(function(e){return a.a.createElement(Z,{key:e.expr,filter:e})}):null),a.a.createElement(N.e,null,a.a.createElement(N.b,{color:"primary",onClick:this.toggle},"Do Something")," ",a.a.createElement(N.b,{color:"secondary",onClick:this.toggle},"Cancel"))))}}]),t}(a.a.Component),ee=Object(g.b)(function(e){return{dltFilters:e.app.dltFilters}},function(e){return{hideDltComponent:function(t){return e(v(t))}}})($),te=function(e){return a.a.createElement("tr",{className:G.a.line},a.a.createElement("td",{className:G.a.name},a.a.createElement(ee,{dltApp:e.dltApp,buttonLabel:e.dltApp})),a.a.createElement("td",null,a.a.createElement("img",{src:e.visible?e.imgShowed:e.imgHidden,className:G.a.Img,alt:"component (".concat(e.dltApp,") logs: are ").concat(e.visible?"visible":"hidden"),onClick:function(){return e.visible?e.doHide():e.doShow()}})))},ne=n(33),oe=n.n(ne),re=n(34),le=n.n(re),ae=Object(g.b)(function(e){return{dltComponents:e.app.dltComponents,logs:e.app.visibleDltLogs}},function(e){return{showDltComponent:function(t){return e(function(e){return{type:"SHOW_DLT_COMPONENT",dltComponentName:e}}(t))},hideDltComponent:function(t){return e(v(t))}}})(function(e){var t=Object.keys(e.dltComponents).map(function(t){return a.a.createElement(te,{key:t,dltApp:t,imgHidden:oe.a,imgShowed:le.a,visible:e.dltComponents[t],doShow:function(){e.showDltComponent(t)},doHide:function(){e.hideDltComponent(t)}})});return a.a.createElement("table",{className:R.a.Table},a.a.createElement("tbody",null,t))}),ie=function(e){function t(e){var n;return Object(c.a)(this,t),n=Object(p.a)(this,Object(m.a)(t).call(this,e)),e.showMsgToUser("Waiting for logs"),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=a.a.createElement("div",{className:h.a.content},a.a.createElement("div",{className:h.a.leftPanel},a.a.createElement(ae,null)),a.a.createElement("div",{className:h.a.workspace},a.a.createElement(P,null))),t=a.a.createElement(C,null),n=a.a.createElement("div",{className:[h.a.content,h.a.center].join(" ")},a.a.createElement("h1",null,this.props.messageToUser));return a.a.createElement("div",{className:h.a.wrapper},a.a.createElement(F,null,t),this.props.dltLogsAvailable?e:n,a.a.createElement(M,null))}}]),t}(l.Component),se=Object(g.b)(function(e){return{messageToUser:e.app.msg,dltLogsAvailable:e.app.dltLogsAvailable}},function(e){return{showMsgToUser:function(t){return e(E(t))}}})(ie),ce=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ue(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var pe=function(e,t){return Object(b.a)({},e,t)},me={dltFilters:{"SWDL: LUC":[new Q("red","register1 info",z.filter.POSITIVE,z.expr.PAYLOAD,!1),new Q("green","register3 info",z.filter.POSITIVE,z.expr.PAYLOAD,!1)],"SWDL: SWUM":[],"LNUX: SYS":[new Q("#eee","",z.filter.POSITIVE,z.expr.PAYLOAD,!1)],"BT: BT":[new Q("#eee","",z.filter.POSITIVE,z.expr.PAYLOAD,!1)],"PCM: PCM":[new Q("#eee","",z.filter.POSITIVE,z.expr.PAYLOAD,!1)],"PTLG: PTLG":[new Q("#eee","",z.filter.POSITIVE,z.expr.PAYLOAD,!1)],"DLTP: PTLG":[new Q("#eee","",z.filter.POSITIVE,z.expr.PAYLOAD,!1)],"PCM: PLCG":[new Q("#eee","",z.filter.POSITIVE,z.expr.PAYLOAD,!1)],"DLTP: STK":[new Q("#eee","sfr_mi::CServiceImpl :: sendMsg",z.filter.POSITIVE,z.expr.PAYLOAD,!1),new Q("#eee","ssi_mi::CIccNodeBase :: onGenRandCb",z.filter.POSITIVE,z.expr.PAYLOAD,!1)]},allDltLogs:[],visibleDltLogs:[],dltComponents:{},msg:"",dltLogsAvailable:!1},de=function(e,t,n){var o=Object(b.a)({},n.dltFilters);return o[t]=e,pe(n,{dltFilters:o})},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_DLT_FILTER":return function(e,t,n){var o=Object(b.a)({},n.dltFilters,{name:t});return pe(n,{dltFilters:o})}(e.name,e.expr,e);case"REMOVE_DLT_FILTER":return function(e,t){var n=Object(b.a)({},t.dltFilters);return delete n[e],pe(t,{dltFilters:n})}(t.name,e);case"STATE_ON_DLT_FILTER":return de(!0,t.name,e);case"STATE_OFF_DLT_FILTER":return de(!1,t.name,e);case"ADD_DLT_LOGS":return pe(e,{allDltLogs:D.getAllDltLogs(),dltComponents:D.getDltComponents()});case"SHOW_DLT_COMPONENT":return pe(e,D.showComponent(t.dltComponentName));case"HIDE_DLT_COMPONENT":return pe(e,D.hideComponent(t.dltComponentName));case"SHOW_MESSAGE_TO_USER":return pe(e,{msg:t.msg});case"SET_DLT_LOGS_AVAILABLE":return D.setFilters(e.dltFilters),D.resetLogs(),pe(e,{dltLogsAvailable:t.dltLogsAvailable,allDltLogs:D.getAllDltLogs(),dltComponents:D.getDltComponents(),visibleDltLogs:D.getVisibleDltLogs()})}return e},he=n(35),ge=n(13);var ve=Object(ge.c)({app:fe}),Ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ge.d,be=Object(ge.e)(ve,Ee(Object(ge.a)(he.a)));s.a.render(a.a.createElement(g.a,{store:be},a.a.createElement(se,null)),document.getElementById("root")),function(e){var t=document.head,n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,t.appendChild(n)}("https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"),function(e){if("serviceWorker"in navigator){if(new URL("/holylogger",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/holylogger","/service-worker.js");ce?(function(e,t){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ue(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):ue(t,e)})}}()},7:function(e,t,n){e.exports={wrapper:"_3QGUbpigO1tNlXGdrYGHxa",header:"hwRc6f9WKlpNo0-FJMnLB",content:"OG-1Xwkk8OG_vpCZFgfEu",center:"_3yB-IN4N1hiAEajk3WkgX",leftPanel:"_3XoThOxXulPOrI4kRpn1Ng",workspace:"_2q-HCqfEfR_GuwJqIZOd3s",footer:"_1fwnD348WPEtOs2Aa-4e82"}}},[[36,2,1]]]);
//# sourceMappingURL=main.b9b41018.chunk.js.map